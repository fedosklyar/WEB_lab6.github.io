<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="styles.css"> <!--Підключення таблиці стилів-->
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>


    <body>
        <div class = "content">
            <div class="border upper">
                <div class="anthem right">
                
                </div> <!--Якось зробити ще один елемент, який мона буде всунути в нижній та верхній блок-->
                <img src="images/download_icon.png" alt="Icon" class="Icon above">
            </div>

            <div class = "container_flex">
                <div class="Left side">

                    <div class="Vertical">

                        <div class="Empty block2">
                            <img src="images/Hades_meme.jpg" alt="meme", class="meme">
                        </div>
                        <div class="Game_cover block2">
                            <img src="images/Culture_inline_Hades_PackArt.webp" alt="Cover" class="Cover">
                        </div>

                    </div>

                    <div class="Horizontal">
                        <a href="https://www.supergiantgames.com/" target="_blank">
                        <img src="images/Supergiant_Games_Logo.png" alt="SuperGiant" class="SuperGiant" title="Сайт компанії">
                        </a>    
                    </div>

                </div>
                <div class="Right side">
                    <div class="Info block">
                        <form name="Create_Colapse_objects" action="" id="CollapseForm" method="post">
                            <label for="" class="LabelForm">Name</label>
                            <input type="text" name="CollapseName" id="CollapseName">
                            <br>
                            <br>
                            <label for="" class="LabelForm">Content</label>
                            <input type="text" name="CollapseContent" id="CollapseContent">
                            <br> <br>
                            <button type="button" onclick='CreateElement(document.getElementById("CreatedContent"))' >Add</button>
                            <button type="button" name="Submit" id="Submit">Save</button>
                            

                        </form>

                        <br>
                        <div id="CreatedContent"></div>
                    </div>


                    <script>
                        let counter = 1;

                        function CreateElement(block)
                        {
                            
                            var CollapseName = document.forms["Create_Colapse_objects"]["CollapseName"].value;
                            var CollapseContent = document.forms["Create_Colapse_objects"]["CollapseContent"].value;

                            if(CollapseName && CollapseContent)
                            {
                                SetElement(block, CollapseName, CollapseContent);
                                ++counter;
                            }
                        }



                        function SetElement(block, CollapseName, CollapseContent)
                        {
                            var buttonId = "CollapseButton" + counter;
                            var strButtonId = buttonId.toString(); 
                            // block.innerHTML += "<button class='btn btn-primary' type='button' data-bs-toggle='collapse' id='" + buttonId + "'"
                            // + " data-bs-target='#collapseExample' aria-expanded='false' onclick='CollapseAction(strButtonId)' aria-controls='collapseExample'>" + CollapseName + "</button>"
                            // + "<div class = 'collapse' id = 'collapseExample'>"
                            // + "<div class='card card-body'>"
                            // + CollapseContent
                            // + "</div>"
                            // + "</div>";
                                
                            block.innerHTML += `
                            <button class='btn btn-primary' type='submit' 
                                data-bs-toggle='collapse' id='${buttonId}'
                                name='${buttonId}'
                                data-bs-target='#collapseExample${counter}' 
                                aria-expanded='false' onclick='CollapseAction("${buttonId}")' 
                                aria-controls='collapseExample${counter}'>${CollapseName}</button>
                            <div class='collapse' id='collapseExample${counter}'>
                                <div class='card card-body'>
                                    ${CollapseContent}
                                </div>
                            </div>`;
                        }


                        function CollapseAction(buttonId)
                        {
                            var button = document.getElementById(buttonId);
                            button.addEventListener('click', collapseclick)
                            function collapseclick()
                            {
                                var closed = button.getAttribute('aria-expanded');
                                var collapse = document.getElementById(button.getAttribute('data-bs-target').substring(1));
                                

                                // if(closed === 'false')
                                // {
                                    
                                //     collapse.style.display = 'none';
                                //     var contentHeight = collapse.scrollHeight + 'px';
                                //     collapse.style.maxHeight = contentHeight;
                                    
                                // }

                                if(collapse.style.display === 'block')
                                   collapse.style.display = 'none';
                                else
                                   collapse.style.display = 'block';

                                // else
                                    
                                //     collapse.style.display = 'block';
                                
                                
                            }
                            // var collapse = document.getElementById(button.getAttribute('data-bd-target').substring(1));
                            
                            // if(collapse.style.display === 'block')
                            //     collapse.style.display = 'none';
                            // else
                            //     collapse.style.display = 'block';
                        }
                    </script>

                    

                    <div class="menu block">
                        <a href="index.html">
                            <div class = "Page first">Main</div>
                        </a>

                        <a href="second.html">
                        <div class = "Page second">Second</div>
                        </a>

                        <!-- <a href="gameplay.html">
                            <div class = "Page third">Геймплей</div>
                        </a>
                        
                        <a href="achievments.html">
                        <div class = "Page fourth">Досягнення</div>
                        </a>
                        
                        <a href="company.html">
                        <div class = "Page fifth">About company</div>
                        </a> -->
                    </div>
                </div>
                

            </div>

            <div class="border bottom">
                <div class="anthem left">Gods grant me strength</div>
                <img src="images/download_icon.png" alt="Icon" class="Icon below">    
            </div>
            <script src="script.js"></script>
            <!-- <script src="second.js"></script> -->
        </div>
        
    </body>
</html> 